<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" th:href="@{/assets/css/style.css}">

  <script>
    function toggleButton() {
      var errorElement = document.getElementById("errorMsg");
      var selectElement = document.getElementById("dormSelect");
      var buttonElement = document.getElementById("continueBtn");

      if (selectElement.value === "") {
        buttonElement.disabled = true;
        buttonElement.style.cursor = "default";
        buttonElement.style.background = "rgba(91,143,255,0.63)";
        errorElement.removeAttribute("hidden");
      } else {
        buttonElement.disabled = false;
        buttonElement.style.cursor = "pointer";
        buttonElement.style.background = "rgba(48, 112, 255, 0.99)";
        errorElement.setAttribute("hidden", "");
      }
    }
  </script>
</head>
<body>
<div>
  <div class="home-container">
    <header data-role="Header" class="home-header">
      <div class="header-container">
        <img alt="logo" src="https://studentdepot.pl/wp-content/themes/student/assets/img/logo-student-depot.svg" class="home-image"/>
      </div>
      <div class="home-nav">
        <nav class="navigation-links-nav navigation-links-root-class-name">
          <span class="navigation-links-text"><span>About</span></span>
          <span class="navigation-links-text"><span>Features</span></span>
          <span class="navigation-links-text"><span>Pricing</span></span>
          <span class="navigation-links-text"><span>Team</span></span>
          <span class="navigation-links-text"><span>Blog</span></span>
        </nav>
      </div>
    </header>
    <h1 class="home-text" th:text="'Welcome, ' + ${user.getName()}"></h1>
    <h1 class="home-text01">Reservation Process</h1>
    <form method="get" id="dormForm" class="home-selecting-dorm" th:action="@{/reservation/selectRoom}">
      <select id="dormSelect" name="dormSelect" class="home-select" onchange="toggleButton()">
        <option disabled selected value="">Select dormitory</option>
        <option th:each="dorms: ${dorms}" th:value = "${dorms.id}" th:text = "${dorms.name}"></option>
      </select>
      <div style="align-self: center; display: flex; justify-content: center; margin-top: 140px; align-items: flex-end;">
        <span id="errorMsg" style="color: red">
          error: You need to select a Dormitory
        </span>
      </div>
      <button id="continueBtn" name="continueBtn" type="submit" class="home-button-submit" disabled style="background: rgba(91,143,255,0.63); cursor: default">
        <span>
          <span>Continue</span>
          <br/>
        </span>
      </button>
    </form>
    <button type="button" class="button-cancel-select-dorm" th:onclick="|location.href='/reservation/menu'|">Cancel</button>
    <footer class="home-footer2">
      <div class="header-container">
        <img alt="logo" src="https://studentdepot.pl/wp-content/themes/student/assets/img/logo-student-depot.svg" class="home-image2"/>
      </div>
      <div class="home-links-container">
        <div class="home-container04">
          <div class="home-container05">
            <span class="home-text11">Product</span>
            <span class="home-text12">Features</span>
            <span class="home-text12">Pricing</span>
            <span class="home-text12">Tutorials</span>
            <span>Releases</span>
          </div>
          <div class="home-container06">
            <span class="home-text16">Company</span>
            <span class="home-text12">About</span>
            <span class="home-text12">Careers</span>
            <span class="home-text12">Contact</span>
            <span>Blog</span>
          </div>
        </div>
        <div class="home-container07">
          <div class="home-container08">
            <span class="home-text21">Support</span>
            <span class="home-text12">Terms of service</span>
            <span class="home-text12">Privacy Policy</span>
            <span class="home-text12">Legal</span>
            <span>Help center</span>
          </div>
          <div class="home-container09">
            <span class="home-text26">Resources</span>
            <span class="home-text12">Blog</span>
            <span class="home-text12">Pricing</span>
            <span class="home-text12">Service</span>
            <span>Product</span>
          </div>
        </div>
      </div>
    </footer>
  </div>
</div>

</body>
</html>